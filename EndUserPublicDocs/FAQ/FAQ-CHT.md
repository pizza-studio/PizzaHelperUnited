# 披薩小助手常見問題解答（FAQ）

本文僅解答那些無法由《披薩小助手隱私政策》與《披薩小助手使用者授權合約與免責聲明（EULA）》回答的問題。

## // 安全疑慮與軟體可靠性答疑

#### Q: 該怎麼使用小工具？有沒有 watchOS 小工具？

披薩小助手從 v5.0.3 版開始對 watchOS 提供小工具。有關如何在 Apple 裝置上使用小工具的資訊，請諮詢 Apple 支援。請注意：小工具的功能可能會因不同的作業系統及其年度更新而有所不同。

#### Q: 披薩小助手有沒有 Android 版本？

暫無開發 Android 版本之計劃。

#### Q: 使用該工具是否會導致遊戲帳號被停權？

根據到目前為止的反饋來看，迄今為止尚無先例。根據熱心玩家向米哈遊專屬客服的求證，得到的答覆是遊戲帳號不會被停權。（《披薩小助手使用者授權合約與免責聲明（EULA）》有提及：**開發者對於因使用者行為所導致之任何損害不承擔任何責任**。）

#### Q: 我藉由披薩小助手登入米遊社 / HoYoLAB 帳號的過程是安全的嗎？

披薩小助手**對米游社帳號是採取 QRCode 掃碼登入的、不會牽涉到帳號盜取的嫌疑**；對 HoYoLAB 帳號雖然需要密碼登入，但使用者對自己帳號的密碼輸入是**直接由 iOS 系統的安全鍵盤接管（macOS 平台則是 SecureEventInput 模式從硬體層面接管所有的鍵盤輸入訊號）、然後直接被 iOS / macOS 內建的 WKWebView 轉交給 HoYoLAB 完成登入**、才產生了可以由披薩小助手在所處裝置賴以使用的 Cookie。**整個登入過程當中，披薩小助手始終無權截獲使用者對密碼的鍵盤輸入**。感謝 Apple 一直以來致力於對資訊安全環境的營造。

#### Q: 披薩小助手會怎麼處理使用者的抽卡記錄？

在《披薩小助手隱私政策》有提及：玩家的抽卡記錄只會被披薩小助手存放在這三個位置：

- 閣下使用披薩小助手時之 Apple 數位裝置。
- 以及該數位裝置當時所已經登入使用 iCloud Drive 的 Apple ID 之自身的 iCloud 私有雲空間。
- 以及任何被登入該 Apple ID 使用 iCloud Drive 且有安裝披薩小助手之數位裝置。

雖然披薩小助手允許使用者匯入、匯出抽卡記錄，但開發團隊不建議您將這些資料上交給任何可能會擅自公開統計結果的第三方網站。

#### Q: 披薩小助手的哪些網路服務會受到外界不可抗力之影響？

至少有這幾類服務會受到影響：

1. HoYoLAB 或米遊社：實時便箋、個人戰報、帳簿、抽卡記錄獲取、角色庫存清單、遊戲活動。
2. Enka Networks：角色展櫃。

所受支援的每款遊戲在各自的大版本更新時，往往伴隨著上述服務的暫時不可用。特別是 Enka Networks，每次版本維護大概需要一至兩天的時間。

#### Q: 为什么有些功能被移除了？

被移除的功能大致是這幾類：

- 與米遊社 / HoYoLAB 既定功能重複、且無法在使用體驗上做得比米遊社 / HoYoLAB 更好的功能。例：遊戲統計。
- 開發團隊時間精力有限而無法維護的功能。例：披薩辭典。
- 有多種因素導致產品體驗永遠都無法做好、且沒有可維護性的功能。例：深境螺旋榜單。

#### 問：為什麼我在商店升級這個軟體後，很多功能反而消失了？甚至只剩匯出資料的功能？

自 5.5.0 版本起（watchOS App 則自 5.5.1 版本起），本軟體恢復了對 OS21 ~ OS23（即 iOS 14 ~ 16 與 macOS 11 ~ 13）的安裝支援，以取代已被棄用的舊版。此決策源於舊版（v4.x 及更早版本）存在資安疑慮，且我們無法透過其他手段介入處理。考量到 OS23 使用者群體的特殊性，我們仍為 OS23（iOS 16.2+/macOS 13.0+/watchOS 9.2+）以上使用者移植了部分基礎功能。但 SwiftUI 在這些系統版本中仍極不成熟，難免存在使用故障。若您的使用需求與經濟能力允許，請更換至少支援 OS24+ 的設備。

## // App 與開發團隊

#### Q: 我是星鐵披薩小助手的使用者，請問在遷移過來時需要注意什麼？

一是資料同步：雖然基於統一披薩引擎的全新的披薩小助手可以藉由 iCloud 讀取到同一 Apple ID 下的星鐵披薩小助手的雲端資料，但同步讀取資料是需要時間的、且可能受到包括連線狀態等多方因素之影響。如希望能有更穩妥的遷移手段的話，您可以藉由星鐵披薩小助手將其本機帳號全部匯出為一個 JSON、再匯入到目前的新版披薩小助手內。抽卡記錄也可以用類似的手段遷移（使用 UIGF v4 格式）。

二是小工具（小組件）：全新的披薩小助手的所有看似給原神設計的小工具都是可以顯示星穹鐵道的內容的（洞天寶錢等原神專屬小工具除外），直接在小工具設定裡面選擇您創建的星穹鐵道專用的本機帳號即可。依賴 iOS 內建的即時動態（Live Activity）功能實作的玩家體力計時器也可以用來顯示星穹鐵道的開拓力回滿狀態。對於小工具的自訂壁紙的功能支持則是從 5.2.1 版更新開始支援，且無法繼承之前的設定。詳情請洽相關功能的介面文字說明。

#### Q: 披薩小助手的工作原理是什麼？

米游社 / HoYoLAB 客體應用（client app）會藉由向米哈遊 / Cognosphere 的伺服器的後端請求遊戲內的一些資訊。這個手段可以查詢到一些與此有關的遊戲狀態資訊（比如玩家體力的回滿進度，等）。披薩小助手使用您的 UID 與 Cookie 資訊可以重複這個查詢過程、代替您使用這兩款 App 向對應的伺服器的後端請求遊戲內的這些資訊、並展示於披薩小助手的主介面與小工具當中。《披薩小助手隱私政策》已經解釋了與這些 Cookies 的使用有關的內容。

#### Q: 未來會收費嗎？

米哈遊不允許收費或植入收費廣告，所以披薩小助手的所有功能都是免費提供開放使用的。

披薩小助手曾經接受過來自使用者的自發捐贈（目前不再接受捐贈），且敝團隊不會因此對捐贈者產生任何義務。這類捐贈內容會用於 App 開發、及其連帶網路設施的維護。當然，藉由 Apple App Store 發行軟體所必須的 Apple Developer Program 會員身分的年費也會從這筆捐贈金報銷。如有收到大宗捐贈的話，敝團隊可能會公示他們的貢獻。敝團隊也可能會考慮在適當的時間點將用不完的經費捐贈給社會公益之用途。

#### Q: 小工具（小組件）是怎樣自動更新玩家的帳號的原粹樹脂 / 開拓力 / 絕區電量狀態的？

這些在披薩小助手被統稱為「玩家體力（Stamina）」。從 5.0.4 版開始，披薩小助手的小工具每過一個玩家體力點恢復時間就會嘗試向米遊社 / HoYoLAB 伺服器請求一次最新的實時便箋資料（裡面包括了對應 UID 的原粹樹脂 / 開拓力 / 絕區電量狀態等資訊）。桌面小工具額外會有用於重載內容專用的刷新按鈕。開啟披薩小助手本體 App 時，所有小工具都會自動重新請求一次實時便箋資料。如果您未曾登入遊戲消耗過玩家體力的話，理論上藉由小工具顯示的玩家體力的誤差不會超過 1。

然而，對於3年以上的舊款iPhone機種來講，哪怕有更換過新的電池，上述的小工具運作規律也會增加電力的消耗。因此，請在使用這類機種時盡量控制小工具的數量。

#### Q: 開發團隊的自我介紹呢？如何解決其他疑問和討論其他話題？

各位可以在披薩小助手的「關於」畫面找到披薩小助手的 QQ 頻道和 Discord 頻道。從 2023 年四月開始，開發團隊變成了三個人（Lava; Bill Haku; Shiki Suen）。各位可以在「關於」畫面的右上角點一下「開發組」就能看到他們的聯絡資料。因成員生涯計劃各異的原因，從 2024 年 10 月 1 日起，該專案的程式開發由 Shiki Suen 單人維護。

#### Q: 請問何時會實作與絕區零有關的進階功能？比如抽卡記錄管理之類的。

至少一年內不會實作。原因有很多，但開發團隊分身乏術也是重要原因之一。

#### Q: 為什麼更改語言設定後需要重啟應用程式？

在 macOS/iOS 上更改應用程式的 UI 語言設定時，應用程式需要重新啟動，以確保新的語言設定生效。即使使用者藉由系統設定手動更改語言設定，仍然會提示需要重新啟動應用程式，且屆時這個提示將由 macOS/iOS 系統來發出，而非敝應用程式。

我們在這裡設置了語言切換器，以幫助使用者節省幾秒鐘的時間。這種設計對於有注意力缺陷渙散障礙（ADHD）患者非常友善，因為 ADHD 患者在翻閱 iOS/macOS 系統設定中的多層頁面時，往往容易徹底忘記他們原本要做的事情。

確認語言切換後，應用程式會自動結束，您需要手動重新啟動應用程式。

某些功能（如系統通知、小工具等）需要重新啟動 Springboard（在 iOS 上）或登出後重新登入（在 macOS 上）以套用此設定的變更。如果您覺得麻煩的話，您也可以選擇直接重新啟動系統。請注意，已排定的系統通知可能無法反映最新的 App 介面語言設定。

## // 技術故障與使用方法

> 本章節內容以披薩小助手 5.2.1 版開始的版本為討論情形。

#### Q: HoYoLAB / 米遊社面板相對於 Enka 面板而言有何差異？

Enka 面板的結果理論上是最準確的結果，但只能顯示某個 UID 的公開展櫃內的角色；而 HoYoLAB / 米遊社面板則允許您以近乎相同的面板閱讀體驗來檢視自己全部的在庫角色。

由於後者可提供的後端資料有限，所以 HoYoLAB / 米遊社面板內容有下述限制：

- 星穹鐵道的武器在 20 & 30 & 40 & 50 & 60 & 70 級時沒有任何辦法判斷是否有經過等級突破，只能以「尚未完成等級突破」為前提來推斷此時的武器面板資料。
- 原神的部分角色可能會有「忘記統計某些角色自身突破所帶來的特定元素的傷害增幅」的情況，屆時請以「在遊戲內將該角色移出隊伍之後、遊戲內顯示的該角色的面板」為基準、來決定是否向 HoYoLAB / 米遊社提報相關故障。
  - 注意：不將該角色移出隊伍的話，隊伍內不同的角色組合、乃至個別角色的天賦都有可能影響到遊戲內顯示的隊員們的面板數值。
- 原神的查詢結果無法將角色技能基礎等級與命座天賦等級加成分開統計，因為拿到的原始數值就是經過合算的最終技能等級。

#### Q: iOS 鎖屏小工具（小組件）無法加載出內容，怎麼解決？

這有很大概率是小工具卡在資料獲取狀態了。可以進入鎖屏小工具編輯狀態，編輯對應的小工具的內容，重新選擇本機帳號（哪怕選擇的還是之前的本機帳號），這樣可以觸發鎖屏小工具的內容更新流程。

#### Q: Apple Watch 無法從 iCloud 同步帳號？

以 iOS 18 為例：先關閉披薩小助手的 iCloud 同步功能、再重新打開，並進入披薩小助手的本體應用、再靜置一分鐘，隨後打開 Apple Watch App 嘗試同步即可。具體操作方法為：在 iPhone 上點按「設定」-「你的 Apple 帳號」-「iCloud」-「儲存至 iCloud」，然後把頁面往下翻，找到披薩小助手的開關，關掉之後再重新點開就可以了。

#### Q: 嘗試添加小工具（小組件）時，找不到小工具。

請嘗試重新啟動系統後靜置十分鐘、不行的話再試試關閉再打開披薩小助手的通知，有較大概率解決。如果您在用 macOS 的且這樣做之後該問題仍舊存在的話，請洽 Apple Support 讓他們的專員引導您確認 App 是否被安裝到了正確的位置、或者在不同的位置有重複安裝。

#### Q: 錯誤碼 -1（未獲取到資料）或 錯誤碼 10102、10103、10104（Cookie 與 UID 不對應）

檢查是否開啟米遊社的實時便箋（或 HoYoLAB 的實時便箋）功能，並重新獲取 Cookie。另請注意登入的帳號本身是否正確。

#### Q: 錯誤碼 10001 （Cookie 有誤或 Cookie 失效）

建議將對應的本機帳號重新登入。這個過程會重新獲取 Cookie。

#### Q: 錯誤碼 1008（UID 有誤）

檢查 UID 是否與您選擇的伺服器彼此對應（注意：是原神/星穹鐵道/絕區零的UID，不是米遊社通行證帳號的 ID 數字）。如無法解決，請向我們反饋。另：披薩小助手自從 v5.0 版本開始，會在藉由本機帳號管理畫面輸入 UID 時自動嘗試判定所屬的伺服器。

#### Q: 受米遊社管轄的 UID 該如何自備設備指紋？

該功能需要對 iOS 版米遊社 App 與米哈遊伺服器之間的通訊進行流量監聽、獲取 `x-rpc-device_fp` 字段。這種工具會為系統新增本機虛擬專用網路、來完成流量監聽。

目前的唯一解決方案是由使用者自己使用專門的流量監聽工具來完成抓包工作。這裡推薦 Stream Lab Inc. 開發的「Stream」這款專門用來抓包的 iOS 應用。

因為抓到的內容屬於個人資訊，所以需要使用者親自完成。抓到的自己的設備的指紋也請僅供自己使用。

#### Q: 該怎樣處理 Paimon.moe 的抽卡記錄格式？

由於該網站提供的 Excel 抽卡記錄格式缺失了太多關鍵資訊欄位（都是 UIGFv4 規定的），我們在此前針對原神披薩小助手實裝 UIGFv4 支持的時候就已經徹底放棄了對 Paimon.moe 的私有 Excel 格式的支持。如果您有將資料讀入披薩小助手等 UIGFv4 標準的應用內的需求，請向 Paimon.moe 提出建議。

#### Q: 該怎樣針對「星穹鐵道 UID」以及「受 HoYoLAB 管轄的原神 UID」獲取抽卡記錄 URL？

該功能需要對這些遊戲客戶端（包括米哈遊的雲遊戲）與米哈遊伺服器之間的通訊進行流量監聽、篩檢任何包含特定字段與域名的網址。這種工具會為系統新增本機虛擬專用網路、來完成流量監聽。

目前的唯一解決方案是由使用者親自使用專門的流量監聽工具來完成抓包工作。

- 如果您用的是 iOS 的話，這裡推薦 Stream Lab Inc. 開發的「Stream」這款專門用來抓包的 iOS 應用。
- Windows 與 macOS 系統的抓包工具太多，不作贅述。

抓包規則就是篩檢所有包含「`/api/getGachaLog`」路徑內容的 URL。不同遊戲的不同區服的抽卡網址的域名均以「`public-operation`」開頭：

- 受米遊社管轄的 UID 的抽卡網址的域名均以 `mihoyo.com` 結尾。
- 受 HoYoLAB 管轄的 UID 的抽卡網址的域名均以 `hoyoverse.com` 結尾。

抓包時需要使用者在開啟流量監聽狀態的情況下打開遊戲內的抽卡記錄（祈願/躍遷記錄）頁面。

您抓取的網址的有效期可能只有一到兩個小時，請儘快使用。

您抓取到的網址與資料屬於您的個人隱私，請慎重考慮是否將相關資料分享給其他人。

#### Q: 為什麼每次重新啟動我的 iOS 裝置後，本機帳號都會消失？雖然大約 30 秒後可能會恢復，但仍然讓人感到困擾。

披薩小助手預設使用「群組容器」來存儲本機帳號（且有專供小工具存取的 UserDefaults 鏡照副本）。如果您遇到此問題，可以按照以下步驟操作：

1. 前往「本機帳號管理器 -> 選單（位於介面右上角）」並使用相關選單選項將所有本機帳號匯出為備份檔案。在完成步驟 2 後，您需要使用此備份檔案將本機帳號重新匯入到披薩小助手內。
2. 在相同的選單中，進入「進階選項」並將「本機帳號存儲位置」切換為「應用程式容器」。切換此選項後，披薩小助手會自動退出。
3. 將本機帳號匯入到披薩小助手內。此選項位於步驟 1 所述的選單中。

這是針對此問題的一個經過驗證的解決方法。

#### Q: 抽卡統計中的「常駐命中率可信度」功能是什麼？

披薩小助手的「常駐命中率可信度」功能為抽卡遊戲中的常駐物品命中率計算提供可靠性指標。此功能幫助使用者根據可用資料量了解其抽卡統計的可信程度。

**可信度級別與閾值：**

可信度由可用於分析的相關五星抽取次數決定：

- **可信度高**：≥10次 - 計算出的常駐命中率高度可靠
- **可信度中等**：5-9次 - 計算出的常駐命中率具有中等可靠性
- **可信度低**：3-4次 - 計算出的常駐命中率可靠性有限
- **資料筆數不足**：<3次 - 資料不足以提供有意義的計算

**如何解讀可信度級別：**

- **可信度高**的結果可放心用於制定遊戲決策
- **可信度中等**的結果提供有用指導，但應結合其他因素考慮
- **可信度低**的結果應謹慎解讀，因為可能不具代表性
- **資料筆數不足**表示您需要更多抽卡次數才能計算出有意義的統計資料

**可信度不足的常見原因：**

- 抽卡歷史中五星抽取次數太少
- 抽卡記錄不完整（缺少歷史資料）
- 最近才開始記錄抽卡次數
- 統計結果超出理論上限（>50%）

**技術細節：**

當您在抽卡統計部分看到可信度指標時，可以點擊它檢視詳細說明。這會彈出一個訊息視窗來解釋與可信度指標有關的說明。

可信度計算考慮了抽卡機制的複雜性，包括保底系統以及常駐物品與限定物品的區別，確保可靠性評估反映您資料的實際統計意義。

注意：即使顯示「可信度高」，最終解釋權仍屬於米哈遊，米哈遊對概率計算方法也擁有最終解釋權、且優先於敝應用的計算方法。

$ EOF.
