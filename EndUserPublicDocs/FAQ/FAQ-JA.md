# ピザ助手/ラテ助手 FAQ

この文書は、「ピザ助手/ラテ助手 プライバシーポリシー」および「ピザ助手/ラテ助手アプリ使用者許諾契約及び免責声明」で言及されていない内容のみの質問に対応しています。

## // セキュリティに関する懸念、且つアプリの機能の信頼性

#### Q: ウィジェットはどうやって使いますか。watchOS でもウィジェットが利用できますか。

ピザ助手/ラテ助手（無印）は v5.0.3 版にて watchOS のウィジェットを正式に提供し始めました。Apple デバイスでのウィジェットの使い方については、Apple サポートをご確認ください。ウィジェットの機能は、オペレーティングシステムやその年次アップデートによって異なる場合があります。

#### Q: ピザ助手/ラテ助手のAndroid版はございますか？

現在、Android版の開発予定はございません。

#### Q: このツールを使用すると、ゲームアカウントが停止されることはございますか？

これまでそのような報告はございません。miHoYoの専用カスタマーサービスに連絡した熱心なプレイヤーからの確認によれば、ゲームアカウントが停止されることはないとのことです。(*ピザ助手/ラテ助手アプリ使用者許諾契約及び免責声明* には次のように記載されています: **開発者は使用者の行為による損害について一切責任を負わぬ**。）

#### Q: ピザ助手/ラテ助手を通じて、米遊社 / HoYoLABアカウントにログインしても安全ですか？

**米遊社アカウントへのログインはQRコードスキャンを通じて行われ、パスワードの入力は不要です**。HoYoLABアカウントの場合、**iOSデバイスではシステム提供のセキュアな入力キーボードがパスワードの入力を取得し、macOSではハードウェアレベルのSecureEventInput APIが直接物理キーボードの入力を取得します**。**両方の入力はWKWebViewを通じてHoYoLABのログインページに直接渡されます**。その後、サーバーはデバイス固有のクッキーを生成し、このアプリは使用者の「情報のニーズ」に応じてそれを利用します。**この過程は他の誰にも（ピザ助手/ラテ助手アプリにも）傍受されません**。Appleのセキュリティ対策に感謝します。

#### Q: ピザ助手/ラテ助手は使用者のガチャ記録をどのように扱いますか？

*ピザ助手/ラテ助手 プライバシーポリシー* に記載されているように、プレイヤーのガチャ記録は以下の3つの場所にのみ保存されます（柔らかい日本語で言い直します）：

- 使用者が当アプリを使用しているApple製のデジタルデバイス。
- 使用者のApple IDに紐づけられているiCloud個人クラウド空間。
- 同じApple IDにてiCloud Driveにログインし、当アプリがインストールされている他のデジタルデバイス。

ピザ助手/ラテ助手は使用者がガチャ記録をインポート（読み込み）およびエクスポート（書き出し）できるようにしていますが、開発チームはこれらの記録を「勝手に統計結果を公開する第三者とそのウェブサイト」に共有することを推奨していません。

#### Q: ピザ助手/ラテ助手（無印）のネットワークサービスはどのような不可抗力に影響を受けますか。

少なくとも下記のサービス提供者に関わります：

1. HoYoLAB と米游社：リアルタイム便箋、個人作戦報告、元帳、ガチャ記録の受け取り、「持っているキャラの一覧」、ゲームイベント。
2. Enka Networks：キャラクターショーケース。

このアプリがサポートしているゲームは大規模なアップデートの際に、上記の関連サービスが一時的に利用できなくなることがあります。特に Enka Networks では、アップデートに伴うメンテナンスに1～2日かかるのが一般的です。

#### Q: 一部の機能が削除された理由を教えてください。

以下の理由により、一部の機能を削除いたしました：

- ゲーム統計情報など、米游社 / HoYoLABアプリの実装と比べてユーザー体験が劣る機能。
- 開発者の時間的制約により、メンテナンスが困難となった機能（例：ピザ辞典）。
- 深境螺旋ランキングなど、ユーザー体験の課題が解決できない機能。

#### Q: App Store でこのソフトをアップグレードした後、なぜ多くの機能が消えたのですか？データのエクスポート機能しか残っていません。

バージョン5.5.0以降（watchOSアプリは5.5.1以降）、当アプリはOS21～OS23（iOS 14～16およびmacOS 11～13）へのインストールを再サポートし、メンテナンスが終了した旧版を置き換えます。この決定は、旧版（v4.x以前）に存在するセキュリティ上の懸念事項への介入手段が他にないためです。OS23ユーザー層の特殊性を考慮し、OS23（iOS 16.2+/macOS 13.0+/watchOS9.2+）以降のユーザー向けに一部基本機能を移植しました。ただしSwiftUIはこれらのシステムバージョンでは未成熟であり、動作障害が発生する可能性があります。使用ニーズと経済状況が許す場合は、OS24+以上をサポートするデバイスへの切り替えをお願いします。

## // アプリと開発チーム

#### Q: Snap Hutao（胡桃工具箱）のユーザーです。移行時に注意すべきことはありますか？このアプリはSnap Hutaoのようにサービスを停止されるおそれがありますか？

Snap Hutaoの難民データをインポートするには、ガチャ記録マネージャでUIGFv4形式を選択し、Entity Framework Coreによって生成されたSQLiteデータベースであるSnap Hutaoの`Userdata.db`を読み込みます。アプリはこのデータベースを読み取り、ガチャ記録をすべてUIGFv4形式に変換してインポートします。ピザ助手/ラテ助手はSnap Hutaoのローカルアカウント構成を継承することはできないため、ローカルアカウントの再設定が必要です。

開発チームは、miHoYoの決定に対する支持を表明する権限はありませんが、明確にしておくと、App Store / TestFlightを通じて配布されるピザ助手/ラテ助手には、miHoYoのゲームに対してメモリ注入を行うような機能は一切含まれていません。Appleはそのような行為を常に不許可しています。ピザ助手/ラテ助手はメモリ注入を必要とする機能を実装したことはございません。

#### Q: 古い「原神ピザ（v4まで）」のユーザーです。古いデバイスで iOS 17+ に対応していません。データ移行時の注意点は何ですか？

古いデバイスと新しいデバイスが同じApple IDでiCloud Driveにサインインしており、iCloudのストレージに十分な空きがある場合、古いガチャ履歴は理論上iCloudを介して移行できます。ただし、このプロセスが常に成功する保証はありません。より確実な移行方法としては、古いデバイスのピザ助手/ラテ助手をApp Storeの最新バージョンに更新し、アプリのエクスポート機能を使用して「ピザ難民資料（Pizza Refugee Data）」を出力してください。それを新しいデバイスにあるピザ助手/ラテ助手にインポートすることでローカルアカウントのデータが復元されます。ガチャ記録はUIGF v4形式でインポートできます。

#### Q: 『崩スタピザ助手/ラテ助手』の使用者です。この新しい『ピザ助手/ラテ助手（無印）』に移行する際に注意すべきことはございますか？

1. **データ同期**：新しい『統一ピザ助手/ラテ助手エンジン』で稼働している『ピザ助手/ラテ助手（無印）』は、同じApple IDでiCloudを通じて『崩スタピザ助手/ラテ助手』のクラウドデータを読み取ることができますが、データ同期には時間がかかる場合があり、接続状態などの要因によって影響を受けることがございます。より確実な移行を行うためには、『崩スタピザ助手/ラテ助手』からローカルアカウントをJSONファイル（プロファイル統括パッケージ）として書き出し、『ピザ助手/ラテ助手（無印）』に読み込むすることをお勧めします。ガチャ記録も同様の方法で移行できます（UIGF v4形式に準拠したファイル交換を通じて）。

2. **ウィジェット**：『ピザ助手/ラテ助手（無印）』では、『原神』専用のウィジェットも『スターレイル』のコンテンツを表示できるようになりました（洞天集宝盆などの『原神』固有のウィジェットは除く）。ウィジェット設定で『スターレイル』用のローカルプロファイルを選択してください。iOSの組み込みLive Activity機能を使って実装されたスタミナタイマーも、『スターレイル』での開拓力の補充状況を表示するために使用できます。ウィジェットのユーザーカスタム背景サポートはv5.2.1アップデートにて再びサポートし始めましたが、旧版のアプリのこの設定の引き継ぎは無理です。この機能についてのUI文字説明をご参考くださいませ。

#### Q: 『ゼンレスゾンゼロ』に関する高級な機能（例：ガチャ記録管理など）を実装する予定はありますか？

開発チームは人手が不足しており、関連機能を実装する余裕がありません。本アプリの『ゼンレスゾンゼロ』に対するサポートは、「リアルタイム便箋」と「ウィジェット」に留まっています。その他の機能については、miHoYo / HoYoLAB もしくは『ゼンレスゾンゼロ』の公式 WeChat ミニプログラムにお問い合わせください。

#### Q: ピザ助手/ラテ助手はどのように動作しますか？

miHoYo / HoYoLABクライアントアプリは、miHoYo / Cognosphereサーバーバックエンドからゲーム関連の情報をリクエストします。この方法では、ゲームの状態情報（例えば、スタミナの補充進行状況など）を取得できます。ピザ助手/ラテ助手は、あなたのUIDとクッキー情報を使用してこのクエリ過程を再現し、あなたの代わりに対応するサーバーバックエンドからデータをリクエストし、その情報をピザ助手/ラテ助手のメインインターフェースやウィジェットに表示します。Cookies の取り扱いの安全配慮について、プライバシーポリシーで既に説明済みですので、その説明をご参考にしてください。

#### Q: 将来的に料金が発生することはございますか？

miHoYoは課金や広告の埋め込みを許可していないため、ピザ助手/ラテ助手のすべての機能は無料で利用できます。

ピザ助手/ラテ助手は使用者からの任意の寄付を受け入れていましたが、開発チームは寄付者に対して義務を負いません。これらの寄付はアプリの開発や関連するネットワークインフラの維持に使用されます。もちろん、Apple Developer Programメンバーシップの年間費用もこの寄付金から支払われます。大きな寄付を受けた場合、チームは寄付者を公に認めることがございます。チームはまた、適切なタイミングで未使用の寄付金を慈善団体に寄付することを検討することがございます。

#### Q: ウィジェットはどのようにしてプレイヤーのアカウントステータス（天然樹脂、開拓力、ZZZエネルギー）を自動更新しますか？

これらはピザ助手/ラテ助手内で「プレイヤースタミナ」として総称されます。バージョン5.0.4以降、ウィジェットは「1点ごとのスタミナの回復に要る時間」ごとに米遊社 / HoYoLABサーバーから2時間ごとにリアルタイムデータをリクエストしようと試みます（対応するUIDの天然樹脂、開拓力、ZZZエネルギーステータスを含む）。デスクトップウィジェットには、コンテンツを再読み込みするためのリフレッシュボタンも含まれています。ピザ助手/ラテ助手アプリを開くと、すべてのウィジェットは自動的にリアルタイムデータを再リクエストします。ゲーム内でスタミナを消費していない場合、ウィジェットに表示されるスタミナの差異は1を超えることはございません。

ところが、３年以上古い iPhone 機種には、たとえ電池が新品交換したとしても、上記のウィジェットの稼働パターンは電力の消耗の負担が掛かりますので、このような機種をお持ちしている方はできる限りウィジェットの数をお控えくださいませ。

#### Q: 開発チームについてもっと知りたい、または他のトピックについて話し合いたいですか？

開発チームのQQチャンネルやDiscordチャンネルは、ピザ助手/ラテ助手の「設定」セクションにございます。2023年4月から、開発チームは3人のメンバー（Lava、Bill Haku、Shiki Suen）で構成されています。「設定」セクションの右上隅にある「開発チーム」をクリックすると、開発チームメンバーたちの連絡先情報を見ることができます。生涯の計画はみんなそれぞれであるため、2024年10月からメンテナンスをする開発者は Shiki Suen 一人になりました。

#### Q: なぜ言語設定変更後にアプリの再起動が必要なのですか？

macOSやiOSにおいて、アプリの言語設定を変更した場合、新しい設定を有効にするにはアプリの再起動が必要です。

これは、ユーザーがOSのシステム設定から手動で変更した場合も同様で、その際には **OS側** から再起動を促すメッセージが表示されます。

アプリ内に言語切り替え機能を設けたのは、数秒でもユーザーの時間を節約するためです。特にADHD（注意力欠陥障害）の特性を持つ方にとって、このデザインは非常に利便性が高いと考えています。複雑なOSのシステム設定画面を行き来する間に、本来の目的を忘れてしまうことが少なくないからです。

言語切り替えを確認すると、アプリは自動的に終了し、手動で再起動する必要があります。

システム通知、ウィジェットなど一部の機能では、この設定の変更を適用するために、Springboardの再起動（iOSの場合）またはログアウトして再度ログイン（macOSの場合）が必要です。これが複雑に感じる場合は、代わりにデバイスを簡単に再起動することもできます。なお、すでにスケジュールされているシステム通知は、アプリの言語の最新の変更を反映しない場合があります。

## // 技術的な問題と使い方について

> このセクションでは、ピザ助手/ラテ助手（無印）バージョン5.2.1以降の問題について説明します。

#### Q: HoYoLAB / 米遊社のキャラビルド情報は Enka のキャラビルド情報と比べば？

Enka のキャラビルド情報は一番正しいとは言えますが、該当 UID のショーケースで公開済みのキャラクター情報には限られております。一方、HoYoLAB / 米遊社のキャラビルド情報には該当 UID の有する全てのキャラのビルド情報が含まれております。

HoYoLAB / 米遊社のキャラビルド情報には下記の制限はございます：

- スターレイルでの武器（光円錐）のレベルは 20・30・40・50・60・70 の時に、該当武器はレベル突破済みかどうかとは判断できませんので、「レベル未突破」を仮りの前提として武器の推測ビルド情報を表示するようにしました。
- 原神の一部のキャラの元素傷害増幅情報の合計結果には、キャラ自身のレベル突破による元素傷害増幅数値が含まれていないことは、一部のキャラには発生しております。従って、ゲーム内の該当キャラが「チームにはいない」状態での「ゲーム内で見えるビルド情報」をご準拠くださいませ。なお、「チーム内部のキャラたちはそれぞれの組み合わせ或いは天賦の影響のため、それぞれのビルド情報は変化している」とご注意くださいませ。
- 原神でのキャラの天賦レベルはサーバーからの合計結果であり、「命の星座からどの天賦のレベルに影響を与えたか」とは判断できません。

#### Q: iOSのロック画面ウィジェットがコンテンツを読み込まない。どうすれば修正できますか？

これは、ウィジェットがデータ取得状態で固まっている可能性がございます。ロック画面ウィジェットの編集モードに入り、ウィジェットの内容を変更し、ローカルプロファイルを再選択してください（前のものと同じでも構いません）。これにより、コンテンツの更新過程がトリガーされます。

#### Q: Apple WatchがiCloudからアカウントを同期できません？

iOS 18の場合：まず、ピザ助手/ラテ助手のiCloud同期機能をオフにし、再度オンにします。その後、ピザ助手/ラテ助手アプリを開いて1分ほど放置し、Apple Watchアプリを通じて同期を試みてください。さらにサポートが必要な場合は、Apple Supportにお問い合わせください。

#### Q: ウィジェットを追加しようとすると見つからない？

システムを再起動し、10分ほど待ってください。それでも解決しない場合は、ピザ助手/ラテ助手の通知をオフにした後、再度オンにしてみてください。これで問題が解決する可能性が高いです。macOSで問題が解決しない場合は、Apple Supportに連絡して、アプリが正しい場所にインストールされているか、重複してインストールされていないか確認してください。

#### Q: エラーコード-1（データが取得できない）または10102、10103、10104（クッキーとUIDの不一致）

米遊社またはHoYoLABでリアルタイム便箋機能が有効になっているか確認し、新しいクッキーを取得してください。また、ログインしているアカウントが正しいことを確認してください。

#### Q: エラーコード10001（クッキーエラーまたはクッキーの期限切れ）

対応するローカルプロファイルで再度ログインすることをお勧めします。この過程で新しいクッキーが取得されます。

#### Q: エラーコード1008（UIDエラー）

UIDが選択したサーバーに対応しているか確認してください（注意：これは『原神』 / 『スターレイル』 / 『ゼンレスゾンゼロ』のUIDであり、米遊社アカウント・HoYoLABアカウントのID番号ではございません）。問題が解決しない場合は、報告してください。バージョン5.0以降、ピザ助手/ラテ助手はローカルプロファイル管理画面でUIDを入力する際にサーバーを自動的に判定しようとします。

#### Q: UID は米遊社在籍の場合、追加情報を受け取るための特殊なデバイス指紋をどのように準備すればよいか？

（この質問は、HoYoLAB在籍のUIDとは無関係です。）

この機能は、iOS版米遊社アプリと株式会社米哈遊のサーバー間の通信を監視し、特に`x-rpc-device_fp`フィールドのデータ値を取得する必要があります。このようなツールは、通信監視を有効にするためにシステムにローカル仮想専用ネットワーク（VPN）を作成します。

現在の唯一の解決策は、使用者自身が専門的な通信監視ツールを使用してパケットキャプチャを行うことです。ここでは、Stream Lab Inc.が開発したiOS専用のパケットキャプチャアプリ「Stream」を推奨します。

キャプチャした内容は個人情報です。使用者ががご自身のデータをキャプチャし、ご自身だけで用いることを推奨します。

#### Q: Paimon.moeのガチャ記録フォーマットはどう処理すればよいか？

当該サイトが提供するExcel形式のガチャ記録フォーマットには、UIGFv4規定に従った重要な情報欄が不足しているため、この前「原神ピザ助手/ラテ助手」にはUIGFv4対応を実装した際に、Paimon.moeの独自Excelフォーマットのサポート機能を完全に放棄しました。この機能は現在の「ピザ助手/ラテ助手（無印）」にも実装されていません。当該サイトのガチャ記録データをUIGFv4標準に対応するアプリに読み込む必要がある場合は、Paimon.moeには「UIGFv4で記録を書き出す機能を実装なさる」よう、ご要求くださいませ。

#### Q: 「星穹鉄道 UID」および「HoYoLABがホストする原神UID」のガチャ記録 URL をどのように取得すればよいか？

この機能は、これらのゲームクライアント（米哈遊のクラウドゲームを含む）と米哈遊サーバー間の通信を監視し、特定のフィールドやドメインを含むURLを検出する必要があります。このツールは、通信監視を有効にするためにシステムにローカル仮想専用ネットワーク（VPN）を作成します。

現在の唯一の解決策は、使用者が専門的な通信監視ツールを使用してパケットキャプチャを行うことです。

- iOSを使用している場合は、Stream Lab Inc.が開発した「Stream」というiOSアプリを推奨します。
- WindowsおよびmacOSのパケットキャプチャツールは多すぎるため、詳細は省略します。

パケットキャプチャのルールは、「`/api/getGachaLog`」パスを含むすべてのURLを検出することです。異なるゲーム地域のガチャURLのドメインはすべて「`public-operation`」で始まります：

- 米遊社在籍のUIDのガチャURLのドメインは、`mihoyo.com`で終わります。
- HoYoLAB在籍のUIDのガチャURLのドメインは、`hoyoverse.com`で終わります。

パケットキャプチャ時には、使用者が通信監視を有効にした状態で、ゲーム内のガチャ記録ページ（祈願／跳躍記録）を開く必要があります。

キャプチャしたURLの有効期限は1〜2時間しかない可能性があるため、できるだけお早めにご使用くださいませ。

キャプチャしたURLなどのものは個人情報です。他者と共有するかどうかは慎重に検討してください。

#### Q: なぜ、iOS デバイスを再起動するたびにローカルプロファイルが消えてしまうのですか？約 30 秒後に戻る場合もありますが、それでも煩わしいです。

このアプリは、デフォルトでローカルプロファイルをグループコンテナに保存します（ウィジェットのためのUserDefaultsでの複写コピーも行っております）。この問題が発生した場合は、以下の手順を実行してください：

1. 「ローカルプロファイルマネージャー -> メニュー（UI の右上）」で関連するメニューオプションを使用して、すべてのローカルプロファイルをバックアップファイルとして書き出してください。ステップ 2 を完了した後、このバックアップファイルを使用してローカルプロファイルをアプリに再び読み込む必要があります。
2. 同じメニュー内の「上級設定」->「ローカルプロファイルのストレージ場所」を「アプリコンテナ」に切り替えます。このオプションを切り替えると、アプリは自動的に終了します。
3. ローカルプロファイルをアプリに再びお読み込みください。このオプションは、ステップ 1 で述べた同じメニューにあります。

これは、この問題に対する実証済みの回避策です。

#### Q: ガチャ統計の「通常アイテム命中率信憑度」機能とは何ですか？

当アプリの「通常アイテム命中率信憑度」機能は、ガチャゲームにおける通常アイテム命中率計算の信頼性指標を提供します。この機能は、利用可能なデータ量に基づいて、ガチャ統計の信頼度をユーザーが理解するのに役立ちます。

**信憑度レベルと閾値：**

信憑度は、分析に利用可能な関連する5星獲得回数によって決定されます：

- **信憑度高**：≥10回 - 計算された通常命中率は高度に信頼できる
- **信憑度中**：5-9回 - 計算された通常命中率は中程度の信頼性を持つ
- **信憑度低**：3-4回 - 計算された通常命中率の信頼性は限定的
- **データ不足**：<3回 - 意味のある計算を提供するには十分なデータがない

**信憑度レベルの解釈方法：**

- **信憑度高**の結果は、ゲームプレイの決定に信頼して使用できる
- **信憑度中**の結果は有用なガイダンスを提供するが、他の要因と併せて考慮すべき
- **信憑度低**の結果は、代表的でない可能性があるため慎重に解釈すべき
- **データ不足**は、意味のある統計を計算する前により多くのガチャ回数が必要であることを示す

**信憑度不足の一般的な理由：**

- ガチャ履歴の5星獲得回数が少なすぎる
- 不完全なガチャ記録（履歴データの欠如）
- 最近ガチャ記録を開始したばかり
- 統計結果が理論上限値（50%）を超えている

**技術詳細：**

ガチャ統計セクションで信憑度指標を見る際、それをタップして詳細な説明を表示できます。これにより、信憑度指標に関する説明を示すメッセージウィンドウがポップアップします。

信憑度計算は、天井システムや通常アイテムと限定アイテムの区別を含むガチャメカニクスの複雑性を考慮に入れ、信頼性評価がデータの実際の統計的意義を反映することを保証します。

注意：「信憑度高」と表示されても、最終的な解釈権は株式会社米哈遊に帰属し、確率計算方法についても米哈遊社が最終的な解釈権を持ち、このアプリの計算方法を上回ります。

$ EOF.
