# ピザ助手 FAQ

この文書は、「ピザ助手 プライバシーポリシー」および「ピザ助手アプリ使用者許諾契約及び免責声明」で言及されていない内容のみの質問に対応しています。

## // セキュリティに関する懸念、且つアプリの機能の信頼性

#### Q: ウィジェットはどうやって使いますか。watchOS でもウィジェットが利用できますか。

ピザ助手（無印）は v5.0.3 版にて watchOS のウィジェットを正式に提供し始めました。Apple デバイスでのウィジェットの使い方については、Apple サポートをご確認ください。ウィジェットの機能は、オペレーティングシステムやその年次アップデートによって異なる場合があります。

#### Q: ピザ助手のAndroid版はございますか？

現在、Android版の開発予定はございません。

#### Q: このツールを使用すると、ゲームアカウントが停止されることはございますか？

これまでそのような報告はございません。miHoYoの専用カスタマーサービスに連絡した熱心なプレイヤーからの確認によれば、ゲームアカウントが停止されることはないとのことです。(*ピザ助手アプリ使用者許諾契約及び免責声明* には次のように記載されています: **開発者は使用者の行為による損害について一切責任を負わぬ**。）

#### Q: ピザ助手を通じて、米遊社 / HoYoLABアカウントにログインしても安全ですか？

**米遊社アカウントへのログインはQRコードスキャンを通じて行われ、パスワードの入力は不要です**。HoYoLABアカウントの場合、**iOSデバイスではシステム提供のセキュアな入力キーボードがパスワードの入力を取得し、macOSではハードウェアレベルのSecureEventInput APIが直接物理キーボードの入力を取得します**。**両方の入力はWKWebViewを通じてHoYoLABのログインページに直接渡されます**。その後、サーバーはデバイス固有のクッキーを生成し、このアプリは使用者の「情報のニーズ」に応じてそれを利用します。**この過程は他の誰にも（ピザ助手アプリにも）傍受されません**。Appleのセキュリティ対策に感謝します。

#### Q: ピザ助手は使用者のガチャ記録をどのように扱いますか？

*ピザ助手 プライバシーポリシー* に記載されているように、プレイヤーのガチャ記録は以下の3つの場所にのみ保存されます（柔らかい日本語で言い直します）：

- 使用者が当アプリを使用しているApple製のデジタルデバイス。
- 使用者のApple IDに紐づけられているiCloud個人クラウド空間。
- 同じApple IDにてiCloud Driveにログインし、当アプリがインストールされている他のデジタルデバイス。

ピザ助手は使用者がガチャ記録をインポートおよびエクスポートできるようにしていますが、開発チームはこれらの記録を「勝手に統計結果を公開する第三者とそのウェブサイト」に共有することを推奨していません。

#### Q: ピザ助手（無印）のネットワークサービスはどのような不可抗力に影響を受けますか。

少なくとも下記のサービス提供者に関わります：

1. HoYoLAB と米游社：リアルタイム便箋、個人作戦報告、元帳、統計簿、ガチャ記録の受け取り、「持っているキャラの一覧」。
2. Enka Networks：キャラクターショーケース。
3. Yatta.moe：原神の毎日の材料情報。
4. Ennead.cc：スターレイルの公式ニュース（プレーンテキスト）。

このアプリがサポートしているゲームは大規模なアップデートの際に、上記の関連サービスが一時的に利用できなくなることがあります。特に Enka Networks では、アップデートに伴うメンテナンスに1～2日かかるのが一般的です。

## // アプリと開発チーム

#### Q: 『崩スタピザ助手』の使用者です。この新しい『ピザ助手（無印）』に移行する際に注意すべきことはございますか？

1. **データ同期**：新しい『統一ピザ助手エンジン』で稼働している『ピザ助手（無印）』は、同じApple IDでiCloudを通じて『崩スタピザ助手』のクラウドデータを読み取ることができますが、データ同期には時間がかかる場合があり、接続状態などの要因によって影響を受けることがございます。より確実な移行を行うためには、『崩スタピザ助手』からローカルアカウントをJSONファイル（プロファイル統括パッケージ）として書き出し、『ピザ助手（無印）』に読み込むすることをお勧めします。ガチャ記録も同様の方法で移行できます（UIGF v4形式に準拠したファイル交換を通じて）。

2. **ウィジェット**：『ピザ助手（無印）』では、『原神』専用のウィジェットも『スターレイル』のコンテンツを表示できるようになりました（洞天集宝盆などの『原神』固有のウィジェットは除く）。ウィジェット設定で『スターレイル』用のローカルプロファイルを選択してください。iOSの組み込みLive Activity機能を使って実装されたスタミナタイマーも、『スターレイル』での開拓力の補充状況を表示するために使用できます。ウィジェットのカスタム背景サポートは一時的に遅れる可能性があり、条件によって後で実装される予定です。

#### Q: ピザ助手はどのように動作しますか？

miHoYo / HoYoLABクライアントアプリは、miHoYo / Cognosphereサーバーバックエンドからゲーム関連の情報をリクエストします。この方法では、ゲームの状態情報（例えば、スタミナの補充進行状況など）を取得できます。ピザ助手は、あなたのUIDとクッキー情報を使用してこのクエリ過程を再現し、あなたの代わりに対応するサーバーバックエンドからデータをリクエストし、その情報をピザ助手のメインインターフェースやウィジェットに表示します。Cookies の取り扱いの安全配慮について、プライバシーポリシーで既に説明済みですので、その説明をご参考にしてください。

#### Q: 将来的に料金が発生することはございますか？

miHoYoは課金や広告の埋め込みを許可していないため、ピザ助手のすべての機能は無料で利用できます。

ピザ助手は使用者からの任意の寄付を受け入れていましたが、開発チームは寄付者に対して義務を負いません。これらの寄付はアプリの開発や関連するネットワークインフラの維持に使用されます。もちろん、Apple Developer Programメンバーシップの年間費用もこの寄付金から支払われます。大きな寄付を受けた場合、チームは寄付者を公に認めることがございます。チームはまた、適切なタイミングで未使用の寄付金を慈善団体に寄付することを検討することがございます。

#### Q: ウィジェットはどのようにしてプレイヤーのアカウントステータス（天然樹脂、開拓力、ZZZエネルギー）を自動更新しますか？

これらはピザ助手内で「プレイヤースタミナ」として総称されます。バージョン5.0.4以降、ウィジェットは「1点ごとのスタミナの回復に要る時間」ごとに米遊社 / HoYoLABサーバーから2時間ごとにリアルタイムデータをリクエストしようと試みます（対応するUIDの天然樹脂、開拓力、ZZZエネルギーステータスを含む）。デスクトップウィジェットには、コンテンツを再読み込みするためのリフレッシュボタンも含まれています。ピザ助手アプリを開くと、すべてのウィジェットは自動的にリアルタイムデータを再リクエストします。ゲーム内でスタミナを消費していない場合、ウィジェットに表示されるスタミナの差異は1を超えることはございません。

ところが、３年以上古い iPhone 機種には、たとえ電池が新品交換したとしても、上記のウィジェットの稼働パターンは電力の消耗の負担が掛かりますので、このような機種をお持ちしている方はできる限りウィジェットの数をお控えくださいませ。

#### Q: 開発チームについてもっと知りたい、または他のトピックについて話し合いたいですか？

開発チームのQQチャンネルやDiscordチャンネルは、ピザ助手の「設定」セクションにございます。2023年4月から、開発チームは3人のメンバー（Lava、Bill Haku、Shiki Suen）で構成されています。「設定」セクションの右上隅にある「開発チーム」をクリックすると、彼らの連絡先情報を見ることができます。

## // 技術的な問題

> このセクションでは、ピザ助手（無印）バージョン5.0以降の問題について説明します。

#### Q: iOSのロック画面ウィジェットがコンテンツを読み込まない。どうすれば修正できますか？

これは、ウィジェットがデータ取得状態で固まっている可能性がございます。ロック画面ウィジェットの編集モードに入り、ウィジェットの内容を変更し、ローカルプロファイルを再選択してください（前のものと同じでも構いません）。これにより、コンテンツの更新過程がトリガーされます。

#### Q: Apple WatchがiCloudからアカウントを同期できません？

iOS 18の場合：まず、ピザ助手のiCloud同期機能をオフにし、再度オンにします。その後、ピザ助手アプリを開いて1分ほど放置し、Apple Watchアプリを通じて同期を試みてください。さらにサポートが必要な場合は、Apple Supportにお問い合わせください。

#### Q: ウィジェットを追加しようとすると見つからない？

システムを再起動し、10分ほど待ってください。それでも解決しない場合は、ピザ助手の通知をオフにした後、再度オンにしてみてください。これで問題が解決する可能性が高いです。macOSで問題が解決しない場合は、Apple Supportに連絡して、アプリが正しい場所にインストールされているか、重複してインストールされていないか確認してください。

#### Q: エラーコード-1（データが取得できない）または10102、10103、10104（クッキーとUIDの不一致）

米遊社またはHoYoLABでリアルタイム便箋機能が有効になっているか確認し、新しいクッキーを取得してください。また、ログインしているアカウントが正しいことを確認してください。

#### Q: エラーコード10001（クッキーエラーまたはクッキーの期限切れ）

対応するローカルプロファイルで再度ログインすることをお勧めします。この過程で新しいクッキーが取得されます。

#### Q: エラーコード1008（UIDエラー）

UIDが選択したサーバーに対応しているか確認してください（注意：これは『原神』 / 『スターレイル』 / 『ゼンレスゾンゼロ』のUIDであり、米遊社アカウント・HoYoLABアカウントのID番号ではございません）。問題が解決しない場合は、報告してください。バージョン5.0以降、ピザ助手はローカルプロファイル管理画面でUIDを入力する際にサーバーを自動的に判定しようとします。

#### Q: ゼンレスゾンゼロ UID（米遊社在籍）のデバイス指紋をどのように準備すればよいか？

（この質問は、HoYoLAB在籍のUIDとは無関係です。）

この機能は、iOS版米遊社アプリと株式会社米哈遊のサーバー間の通信を監視し、特に`x-rpc-device_fp`フィールドのデータ値を取得する必要があります。このようなツールは、通信監視を有効にするためにシステムにローカル仮想専用ネットワーク（VPN）を作成します。

現在の唯一の解決策は、使用者自身が専門的な通信監視ツールを使用してパケットキャプチャを行うことです。ここでは、Stream Lab Inc.が開発したiOS専用のパケットキャプチャアプリ「Stream」を推奨します。

キャプチャした内容は個人情報です。使用者ががご自身のデータをキャプチャし、ご自身だけで用いることを推奨します。

#### Q: Paimon.moeのガチャ記録フォーマットはどう処理すればよいか？

当該サイトが提供するExcel形式のガチャ記録フォーマットには、UIGFv4規定に従った重要な情報欄が不足しているため、この前「原神ピザ助手」にはUIGFv4対応を実装した際に、Paimon.moeの独自Excelフォーマットのサポート機能を完全に放棄しました。この機能は現在の「ピザ助手（無印）」にも実装されていません。当該サイトのガチャ記録データをUIGFv4標準に対応するアプリに読み込む必要がある場合は、Paimon.moeには「UIGFv4で記録を書き出す機能を実装なさる」よう、ご要求くださいませ。

#### Q: 「星穹鉄道 UID」および「HoYoLABがホストする原神UID」のガチャ記録をどのように取得すればよいか？

この機能は、これらのゲームクライアント（米哈遊のクラウドゲームを含む）と米哈遊サーバー間の通信を監視し、特定のフィールドやドメインを含むURLを検出する必要があります。このツールは、通信監視を有効にするためにシステムにローカル仮想専用ネットワーク（VPN）を作成します。

現在の唯一の解決策は、使用者が専門的な通信監視ツールを使用してパケットキャプチャを行うことです。

- iOSを使用している場合は、Stream Lab Inc.が開発した「Stream」というiOSアプリを推奨します。
- WindowsおよびmacOSのパケットキャプチャツールは多すぎるため、詳細は省略します。

パケットキャプチャのルールは、「`/api/getGachaLog`」パスを含むすべてのURLを検出することです。異なるゲーム地域のガチャURLのドメインはすべて「`public-operation`」で始まります：

- 米遊社在籍のUIDのガチャURLのドメインは、`mihoyo.com`で終わります。
- HoYoLAB在籍のUIDのガチャURLのドメインは、`hoyoverse.com`で終わります。

パケットキャプチャ時には、使用者が通信監視を有効にした状態で、ゲーム内のガチャ記録ページ（祈願／跳躍記録）を開く必要があります。

キャプチャしたURLの有効期限は1〜2時間しかない可能性があるため、できるだけお早めにご使用くださいませ。

キャプチャしたURLなどのものは個人情報です。他者と共有するかどうかは慎重に検討してください。

$ EOF.
